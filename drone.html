<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>STL Renderer with Camera Height</title>
    <style>
      html,
      body {
        margin: 0;
        height: 100%;
        background: #111;
      }
      canvas {
        display: block;
      }
    </style>
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.6.0/lib/p5.min.js"></script>
    <script>
      let model3D;

      function preload() {
        // Place drone.stl in the same folder as this HTML
        model3D = loadModel("drone.stl", true);
      }

      function setup() {
        createCanvas(windowWidth, windowHeight, WEBGL);
        pixelDensity(1);
        setAttributes("depth", true);
        setAttributes("antialias", true);
        noStroke();
      }

      function draw() {
        background(18);

        // --- Camera setup ---
        // eyeX, eyeY, eyeZ = camera position
        // centerX, centerY, centerZ = look-at target
        // upX, upY, upZ = up direction
        let camHeight = 400; // adjust this for how "high" above the model you are
        camera(
          0,
          -camHeight,
          0, // eye position (above the model on Y axis)
          0,
          0,
          0, // look at the model at origin
          0,
          0,
          -1
        ); // up vector so Z points "up" in view

        perspective(PI / 3, width / height, 1, 5000);

        // Lighting
        ambientLight(100);
        directionalLight(200, 200, 220, 0.5, -1.0, 0.3);

        // Draw ground plane for reference
        push();
        rotateX(HALF_PI);
        fill(24);
        plane(600, 600);
        pop();

        // Draw STL model
        push();
        normalMaterial(); // rainbow shading to confirm geometry
        scale(2); // adjust size
        model(model3D);
        pop();
      }

      function windowResized() {
        resizeCanvas(windowWidth, windowHeight);
      }
    </script>
  </body>
</html>
